interactions:
- request:
    body: '{"messages": [{"role": "user", "content": "Hello, what''s your name?"},
      {"role": "assistant", "content": "My name is Isaac Asimov"}, {"role": "user",
      "content": "And what do you do?"}], "llm_providers": [{"provider": "anthropic",
      "model": "claude-3-haiku-20240307", "is_custom": false, "context_length": null,
      "input_price": null, "output_price": null, "latency": null}, {"provider": "openai",
      "model": "gpt-4-1106-preview", "is_custom": false, "context_length": null, "input_price":
      null, "output_price": null, "latency": null}], "metric": "accuracy", "max_model_depth":
      2, "hash_content": false, "tradeoff": "cost"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '616'
      User-Agent:
      - Python-SDK/0.3.20
      content-type:
      - application/json
    method: POST
    uri: https://staging-api.notdiamond.ai/v2/modelRouter/modelSelect
  response:
    body:
      string: '{"providers":[{"provider":"anthropic","model":"claude-3-haiku-20240307"}],"session_id":"2ca23551-d57b-43ed-bab9-622b4571cc0d"}'
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-Ray:
      - 8d335a42effd8da2-MIA
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 15 Oct 2024 22:47:44 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      alt-svc:
      - h3=":443"; ma=86400
      rndr-id:
      - 06fe3911-93a6-478f
      x-render-origin-server:
      - uvicorn
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 1024, "messages": [{"role": "user", "content": "Hello, what''s
      your name?"}, {"role": "assistant", "content": "My name is Isaac Asimov"}, {"role":
      "user", "content": "And what do you do?"}], "model": "claude-3-haiku-20240307"}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '240'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      user-agent:
      - Anthropic/Python 0.36.0
      x-api-key:
      - REDACTED
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 0.36.0
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.6
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA0yQQUvDQBCF/8owFy/bkjZFZS8SEWs9eBIVRMKYHZslyW7cnTWNpf9dUqx4Gt57
        3zyG2aM1qLGL2zJbPKxfmsvvZn3/tLu5Lp7z24UpHneoUMaeJ4pjpC2jwuDbyaAYbRRyggo7b7hF
        jVVLyfAsn9VkmzRbZstVlmcXqLDyTtgJ6tf9qVF4N+0eh8bNWQfkoNjAXzFUgUnYwPsIhZM6+N5W
        c5jImgODeKi57WGwUgPBYA3DFwXLMoL/AKHYRGhtwxA4MoWqVkCO2jHaqGAIVqzbKuhIagWVN0dF
        zkDnA8/hzg9QkYPTRTD6BOINjVd4eFMYxfdlYIreoUZ2ppQUHP4GkT8Tu4pRu9S2CtPxe3qP1vVJ
        SvENu4g6Xyn0Sf5bq/PD4QcAAP//AwBUDbErmwEAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8d335a48aedaa54b-MIA
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 15 Oct 2024 22:47:45 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2024-10-15T22:48:32Z'
      anthropic-ratelimit-tokens-limit:
      - '400000'
      anthropic-ratelimit-tokens-remaining:
      - '400000'
      anthropic-ratelimit-tokens-reset:
      - '2024-10-15T22:47:45Z'
      request-id:
      - req_01EP5udVSs2xGxbdDC8sPQNo
      via:
      - 1.1 google
      x-cloud-trace-context:
      - 77df6c7e7caf013464b5e3e2226266d6
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - identity
      Connection:
      - keep-alive
      X-Amzn-Trace-Id:
      - 912d4d96-4bdf-4420-a93b-1fefc18b6d14
      user-agent:
      - unknown/None; hf_hub/0.25.1; python/3.12.6
    method: HEAD
    uri: https://huggingface.co/claude-3-haiku-20240307/resolve/main/tokenizer.json
  response:
    body:
      string: ''
    headers:
      Access-Control-Allow-Origin:
      - https://huggingface.co
      Access-Control-Expose-Headers:
      - X-Repo-Commit,X-Request-Id,X-Error-Code,X-Error-Message,X-Total-Count,ETag,Link,Accept-Ranges,Content-Range
      Connection:
      - keep-alive
      Content-Length:
      - '20'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Tue, 15 Oct 2024 22:47:45 GMT
      ETag:
      - W/"14-ZYI5tVOD2gG7mWSpjynndpu9W6Y"
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Vary:
      - Origin
      Via:
      - 1.1 e42848b7b6359c155f002c126cf49cc4.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - 8clvbAJVANrl7GMUGN9f6lIVN8Idf9GaX_TQnqpcWwlHYUPicNcYiw==
      X-Amz-Cf-Pop:
      - ATL58-P4
      X-Cache:
      - Error from cloudfront
      X-Error-Code:
      - RepoNotFound
      X-Error-Message:
      - Repository not found
      X-Powered-By:
      - huggingface-moon
      X-Request-Id:
      - Root=1-670ef111-4641cdf4656508a274bd4da3;912d4d96-4bdf-4420-a93b-1fefc18b6d14
      cross-origin-opener-policy:
      - same-origin
    status:
      code: 404
      message: Not Found
- request:
    body: '{"session_id": "2ca23551-d57b-43ed-bab9-622b4571cc0d", "provider": {"provider":
      "anthropic", "model": "claude-3-haiku-20240307", "is_custom": false, "context_length":
      null, "input_price": null, "output_price": null, "latency": null}, "feedback":
      {"tokens_per_second": 83.31167152838471}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '287'
      User-Agent:
      - Python-SDK/0.3.20
      content-type:
      - application/json
    method: POST
    uri: https://staging-api.notdiamond.ai/v2/report/metrics/latency
  response:
    body:
      string: '{"detail":"Session 2ca23551-d57b-43ed-bab9-622b4571cc0d does not belong
        to user 70dc4e5f-ab5b-4e78-a1a1-8820d27a99e1."}'
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-Ray:
      - 8d335a4dabfb9ab9-MIA
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 15 Oct 2024 22:47:45 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      alt-svc:
      - h3=":443"; ma=86400
      rndr-id:
      - 5d5d69b3-f7d6-436c
      x-render-origin-server:
      - uvicorn
    status:
      code: 401
      message: Unauthorized
version: 1
